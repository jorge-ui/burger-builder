(window["webpackJsonpburger-builder"]=window["webpackJsonpburger-builder"]||[]).push([[7],{101:function(e,t,n){"use strict";n.r(t);var a=n(25),r=n(7),c=n(0),o=n.n(c),l=n(41),u=n.n(l),s=n(4),i=n(26),m=n(27),d=n(30),h=n(28),p=n(31),y=n(42),f=n.n(y),k=(n(43),n(60)),b=n.n(k),E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={error:{},loading:!1,success:!1},n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.error,a=(t.loading,this.props),r=a.total,c=a.onSuccess,l=100*r;if(Object.keys(n).length){var u,s=n.message,i=n.code;return"incomplete_number"!==i&&"invalid_number"!==i||(u=o.a.createElement("div",null,"Use ",o.a.createElement("strong",null,"4242 4242 4242 4242")," for dummie card number.")),o.a.createElement("div",{className:f.a.CheckoutForm,style:{marginBottom:"15px"}},o.a.createElement("div",{style:{color:"red"}},s),u||null,o.a.createElement("button",{style:{backgroundColor:"#ccbc53"},onClick:function(){return e.setState({error:{}})}},"Try again"))}return o.a.createElement(b.a,{token:c,stripeKey:"pk_test_ISm2ExeGCOVKScWl1rmNU1KT00cz3zAHZo",name:"Burger Builder Ltd.",amount:l})}}]),t}(c.Component);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}t.default=function(e){var t=e.setShowModal,n=e.order,l=Object(c.useState)(!1),i=Object(r.a)(l,2),m=i[0],d=i[1];function h(){var e=document.querySelector(".".concat(u.a.container));e.style.transform=null,e.style.opacity=null,document.querySelector(".".concat(u.a.CheckoutModal)).style.backgroundColor=null,t({show:!1,order:{}})}Object(c.useEffect)((function(){var e=document.querySelector(".".concat(u.a.container));e.style.transform="unset",e.style.opacity="unset",document.querySelector(".".concat(u.a.CheckoutModal)).style.backgroundColor="#000000b5"}),[]);var p=Object.entries(n).filter((function(e){return e[1].count>0})).map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(n,!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e[1],{name:e[0]})})),y=p.reduce((function(e,t){return e+t.price*t.count}),0).toFixed(2);if(m)return function(){var e=document.querySelector("#closeBuilder");setTimeout((function(){return e&&e.click()}),1e3),setTimeout((function(){return document.querySelector(".".concat(u.a.container)).style.height="350px"}),100)}(),o.a.createElement("div",{id:"CheckoutModal",className:u.a.CheckoutModal,onClick:function(e){e.target.contains(document.querySelector("#CheckoutModal"))&&h()}},o.a.createElement("div",{className:u.a.container},o.a.createElement("div",{className:u.a.success},o.a.createElement("span",null,"Success! Enjoy your burger! :)"),o.a.createElement("button",{onClick:h},"Ok!"))));return o.a.createElement("div",{id:"CheckoutModal",className:u.a.CheckoutModal,onClick:function(e){e.target.contains(document.querySelector("#CheckoutModal"))&&h()}},o.a.createElement("div",{className:u.a.container},o.a.createElement("div",{className:u.a.head},o.a.createElement("div",{id:"closeModal",onClick:h,className:u.a.close},o.a.createElement(s.a,{icon:"times"}))),o.a.createElement("div",{className:"container container-summary"},o.a.createElement("h3",null,o.a.createElement("strong",null,"Order Summary")),o.a.createElement("div",{className:u.a.summaryLine},o.a.createElement("span",null,o.a.createElement("strong",null,"Ingredients")),o.a.createElement("span",null,o.a.createElement("strong",null,"Each"))),o.a.createElement("div",{className:u.a.itemsList},p.map((function(e,t){var n=e.name,a=e.price,r=e.count;return o.a.createElement("div",{key:n+t,className:u.a.summaryLine},o.a.createElement("span",null,n," ",r>1&&o.a.createElement("strong",null,"x".concat(r))),o.a.createElement("span",null,"$",a.toFixed(2)))}))),o.a.createElement("div",{className:"".concat(u.a.summaryLine," ").concat(u.a.total)},o.a.createElement("h4",null,o.a.createElement("strong",null,"Total:")),o.a.createElement("h4",null,o.a.createElement("strong",null,"$",y))),o.a.createElement("div",{className:u.a.formWrap},o.a.createElement(E,{total:Number(y),onSuccess:function(){setTimeout((function(){return d(!0)}),550)}})))))}},41:function(e,t,n){e.exports={CheckoutModal:"CheckoutModal_CheckoutModal__ts8AG",success:"CheckoutModal_success__HGLuw",container:"CheckoutModal_container__cgpLW",summaryLine:"CheckoutModal_summaryLine__36vjt",total:"CheckoutModal_total__HitAb",itemsList:"CheckoutModal_itemsList__1_cv1",formWrap:"CheckoutModal_formWrap__3gQ6i",head:"CheckoutModal_head__2oRIW",close:"CheckoutModal_close__1yTU8"}},42:function(e,t,n){e.exports={CheckoutForm:"CheckoutForm_CheckoutForm__3Y6jP",input:"CheckoutForm_input__29m5y",line2:"CheckoutForm_line2__1l7PH"}}}]);
//# sourceMappingURL=7.52ae361d.chunk.js.map